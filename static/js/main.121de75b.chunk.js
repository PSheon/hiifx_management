(this.webpackJsonphiifx_management=this.webpackJsonphiifx_management||[]).push([[0],[,,,,,,,,,function(t,e,a){t.exports=a(20)},,,,,function(t,e,a){},,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),r=a(7),s=a.n(r),i=(a(14),a(8)),c=a(2),l=a(3),u=a(5),m=a(4),h=a(1),d=(a(15),function(t){Object(u.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).dataProcessor=null,n.initZoom(),n}return Object(l.a)(a,[{key:"initZoom",value:function(){h.gantt.ext.zoom.init({levels:[{name:"\u65e5",scale_height:60,min_column_width:70,scales:[{unit:"week",step:1,format:"Week #%W"},{unit:"day",step:1,format:"%d %M"}]},{name:"\u6708",scale_height:60,min_column_width:70,scales:[{unit:"month",step:1,format:"%F"},{unit:"week",step:1,format:"#%W"}]}]})}},{key:"setZoom",value:function(t){h.gantt.ext.zoom.setLevel(t)}},{key:"initGanttDataProcessor",value:function(){var t=this.props.onDataUpdated;this.dataProcessor=h.gantt.createDataProcessor((function(e,a,n,o){return new Promise((function(r,s){return t&&t(e,a,n,o),r()}))}))}},{key:"shouldComponentUpdate",value:function(t){return this.props.zoom!==t.zoom}},{key:"componentDidMount",value:function(){h.gantt.config.xml_date="%Y-%m-%d %H:%i";var t=this.props.tasks;h.gantt.init(this.ganttContainer),this.initGanttDataProcessor(),h.gantt.parse(t)}},{key:"componentWillUnmount",value:function(){this.dataProcessor&&(this.dataProcessor.destructor(),this.dataProcessor=null)}},{key:"render",value:function(){var t=this,e=this.props.zoom;return this.setZoom(e),o.a.createElement("div",{ref:function(e){t.ganttContainer=e},style:{width:"100%",height:"100%"}})}}]),a}(n.Component)),g=(a(16),d),p=function(t){Object(u.a)(a,t);var e=Object(m.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).handleZoomChange=function(e){t.props.onZoomChange&&t.props.onZoomChange(e.target.value)},t}return Object(l.a)(a,[{key:"render",value:function(){var t=this,e=["\u65e5","\u6708"].map((function(e){var a=t.props.zoom===e;return o.a.createElement("label",{key:e,className:"radio-label ".concat(a?"radio-label-active":"")},o.a.createElement("input",{type:"radio",checked:a,onChange:t.handleZoomChange,value:e}),e)}));return o.a.createElement("div",{className:"tool-bar"},o.a.createElement("div",null,o.a.createElement("b",null,"\u6d77\u532f\u5718\u968a\u8cc7\u91d1\u7ba1\u7406\u5de5\u5177 ")),o.a.createElement("div",null,o.a.createElement("b",{style:{marginLeft:"auto"}},"\u7e2e\u653e\u7dad\u5ea6\uff1a"),e))}}]),a}(n.Component),f=(a(17),p),v=function(t){Object(u.a)(a,t);var e=Object(m.a)(a);function a(){return Object(c.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var t=this.props.messages.map((function(t){var e=t.message;return o.a.createElement("li",{key:Math.random()},e)}));return o.a.createElement("div",{className:"message-area"},o.a.createElement("h3",null,"\u64cd\u4f5c\u7d00\u9304\uff1a"),o.a.createElement("ul",null,t))}}]),a}(n.Component);v.defaultProps={messages:[]};var y=v,k=(a(18),y);a(19);Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?e[a]:("00"+e[a]).substr((""+e[a]).length)));return t};var b={data:[{id:1,text:"\u6211 $1500",start_date:"2020-06-24",duration:3,progress:.6}]},E=function(t){Object(u.a)(a,t);var e=Object(m.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).state={isReady:!1,isUpdating:!1,tasks:null,currentZoom:"\u65e5",messages:[]},t.logDataUpdate=function(e,a,n,o){if(!1===t.state.isUpdating){t.setState({isUpdating:!0});var r=n&&n.text?" (".concat(n.text,")"):"",s="".concat(e," ").concat(a,": ").concat(o," ").concat(r);"link"===e&&"delete"!==a&&(s+=" ( source: ".concat(n.source,", target: ").concat(n.target," )")),t.addMessage(s);var i={data:h.gantt.getTaskByTime().map((function(t){return{id:t.id,text:t.text,start_date:new Date(t.start_date).Format("yyyy-MM-dd"),duration:t.duration,progress:.6}})),links:h.gantt.getLinks()};localStorage.setItem("hiifx_data",JSON.stringify(i)),t.setState({isUpdating:!1})}},t.handleZoomChange=function(e){t.setState({currentZoom:e})},t}return Object(l.a)(a,[{key:"addMessage",value:function(t){var e=[{message:t}].concat(Object(i.a)(this.state.messages));e.length>5&&(e.length=5),this.setState({messages:e})}},{key:"componentDidMount",value:function(){var t=localStorage.getItem("hiifx_data");t?this.setState({tasks:JSON.parse(t),isReady:!0}):(localStorage.setItem("hiifx_data",JSON.stringify(b)),this.setState({tasks:b,isReady:!0}))}},{key:"render",value:function(){var t=this.state,e=t.isReady,a=t.tasks,n=t.currentZoom,r=t.messages;return o.a.createElement("div",null,o.a.createElement("div",{className:"zoom-bar"},o.a.createElement(f,{zoom:n,onZoomChange:this.handleZoomChange})),o.a.createElement("div",{className:"gantt-container"},e&&o.a.createElement(g,{tasks:a,zoom:n,onDataUpdated:this.logDataUpdate})),o.a.createElement(k,{messages:r}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}],[[9,1,2]]]);
//# sourceMappingURL=main.121de75b.chunk.js.map